> ## ì˜¤ëŠ˜ì€ ê³¼ì œí…ŒìŠ¤íŠ¸ ì‹¤ìŠµ!

_ì˜¤ëŠ˜ì€ í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ì˜ ê³¼ì œí…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì•˜ë‹¤. í•œë²ˆ ì­‰ í’€ì–´ë³´ê³ , ë””í…Œì¼í•˜ê²Œ í•˜ë‚˜ì”© ì§šìœ¼ë©´ì„œ ê³µë¶€í•´ë³´ë ¤ê³  í•˜ê³  ìˆë‹¤!_

- API í˜¸ì¶œ ê´€ë ¨ë¶€í„° ì‹œì‘í•˜ê² ë‹¤.

  - ìš”êµ¬ì‚¬í•­

    ### **ì½”ë“œÂ êµ¬ì¡°Â ê´€ë ¨**

    - ES6Â moduleÂ í˜•íƒœë¡œÂ ì½”ë“œë¥¼Â ë³€ê²½í•©ë‹ˆë‹¤.
      - `webpack`Â ,Â `parcel`Â ê³¼Â ê°™ì€Â ë²ˆë“¤ëŸ¬ë¥¼Â ì‚¬ìš©í•˜ì§€Â ë§ì•„ì£¼ì„¸ìš”.
      - í•´ë‹¹Â ì½”ë“œÂ ì‹¤í–‰ì„Â ìœ„í•´ì„œëŠ”Â `http-server`Â ëª¨ë“ˆì„(ë¡œì»¬Â ì„œë²„ë¥¼Â ë„ìš°ëŠ”Â ë‹¤ë¥¸Â ëª¨ë“ˆë„Â ì‚¬ìš©Â ê°€ëŠ¥)Â í†µí•´Â `index.html`Â ì„Â ë„ì›Œì•¼Â í•©ë‹ˆë‹¤.
    - APIÂ fetchÂ ì½”ë“œë¥¼Â `async`Â ,Â `await`Â ë¬¸ì„Â ì´ìš©í•˜ì—¬Â ìˆ˜ì •í•´ì£¼ì„¸ìš”.Â í•´ë‹¹Â ì½”ë“œë“¤ì€Â ì—ëŸ¬ê°€Â ë‚¬ì„Â ê²½ìš°ë¥¼Â ëŒ€ë¹„í•´ì„œÂ ì ì ˆíˆÂ ì²˜ë¦¬ê°€Â ë˜ì–´ìˆì–´ì•¼Â í•©ë‹ˆë‹¤.
    - **`í•„ìˆ˜`**Â APIÂ ì˜Â statusÂ codeÂ ì—Â ë”°ë¼Â ì—ëŸ¬Â ë©”ì‹œì§€ë¥¼Â ë¶„ë¦¬í•˜ì—¬Â ì‘ì„±í•´ì•¼Â í•©ë‹ˆë‹¤.Â ì•„ë˜ëŠ”Â ì˜ˆì‹œì…ë‹ˆë‹¤.

    ```jsx
    const request = async (url: string) => {
      try {
        const result = await fetch(url);
        return result.json();
      } catch (e) {
        console.warn(e);
      }
    };
    const api = {
      fetchGif: (keyword) => {
        return request(`${API_ENDPOINT}/api/gif/search?q=${keyword}`);
      },
      fetchGifAll: () => {
        return request(`${API_ENDPOINT}/api/gif/all`);
      },
    };
    ```

    # **API**

    ### **1. GET /cats/random50**

    ### **Request parameter**

    None

    ### **Query paramter**

    None

    ### **Response**

    Success 200
    | Field name | Type | Description |
    | ---------- | ----- | ------------------------------------- |
    | data | Array | ëœë¤í•œ 50ê°œì˜ ê³ ì–‘ì´ ì‚¬ì§„ ëª©ë¡ì…ë‹ˆë‹¤. |

    ```
    HTTP/1.1 200 OK
    {
      "data": [{
        id: string
        url: string
        name: string
      }]
    }

    ```

    ### **2. GET /cats/search**

    ### **Request parameter**

    None

    ### **Query paramter**

    | Field name | Type   | Description              |
    | ---------- | ------ | ------------------------ |
    | q          | string | ê³ ì–‘ì´ì˜ í’ˆì¢…(ì˜ì–´/í•œê¸€) |

    ### **Response**

    Success 200
    | Field name | Type | Description |
    | ---------- | ----- | ---------------------------------------- |
    | data | Array | Keywordë¡œ ê²€ìƒ‰ëœ ê³ ì–‘ì´ ì‚¬ì§„ ëª©ë¡ì…ë‹ˆë‹¤. |

    ```
    HTTP/1.1 200 OK
    {
      "data": [{
        id: string
        url: string
        name: string
      }]
    }

    ```

    ### **3. GET /cats/:id**

    ### **Request parameter**

    | Field name | Type   | Description                |
    | ---------- | ------ | -------------------------- |
    | id         | string | ê³ ì–‘ì´ ì‚¬ì§„ì˜ idê°’ ì…ë‹ˆë‹¤. |

    ### **Query paramter**

    None

    ### **Response**

    Success 200
    | Field name | Type | Description |
    | ---------- | ------ | ------------------------------- |
    | data | Object | Idë¡œ ê²€ìƒ‰ëœ ê³ ì–‘ì´ ì‚¬ì§„ ì…ë‹ˆë‹¤. |

    ```
    HTTP/1.1 200 OK
    {
      "data": {
        name: string
        id: string
        url: string
        width: number
        height: number
        temperament: string
        origin: string
      }
    }
    ```

  - [**`í•„ìˆ˜`**Â APIÂ ì˜Â statusÂ codeÂ ì—Â ë”°ë¼Â ì—ëŸ¬Â ë©”ì‹œì§€ë¥¼Â ë¶„ë¦¬í•˜ì—¬Â ì‘ì„±í•´ì•¼Â í•©ë‹ˆë‹¤.Â ì•„ë˜ëŠ”Â ì˜ˆì‹œì…ë‹ˆë‹¤.](https://www.notion.so/API-status-code-9aae37a4a0c143b9b306951537d0ad74?pvs=21)
    - ì›ë˜ `url : string` ì´ë¼ê³  ë˜ì–´ ìˆì—ˆëŠ”ë°, ì´ê±´ TypeScriptì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•œ í˜•ì‹ì´ë‹¤.
      - í â€¦ ê·¼ë° ì™œ ì˜ˆì‹œë¡œ ì í˜€ìˆëŠ”ê±°ì§€? í˜¹ì‹œ JavaScriptì—ì„œë„ ê·¸ëŸ° í˜•ì‹ì´ ê°€ëŠ¥í•œì§€ ë‚˜ì¤‘ì— ì°¾ì•„ë³´ì
    - ê·¸ë¦¬ê³  `console.warn(e)` ë¶€ë¶„ë„ ê¶ê¸ˆí•´ì„œ ì°¾ì•„ë´¤ë‹¤.
      - [https://inpa.tistory.com/entry/ğŸ“š-ë‹¤ì–‘í•œ-ì½˜ì†”-API](https://inpa.tistory.com/entry/%F0%9F%93%9A-%EB%8B%A4%EC%96%91%ED%95%9C-%EC%BD%98%EC%86%94-API)
        - ì´ë ‡ê²Œ ë‹¤ì–‘í•œ ì˜µì…˜ì´ ìˆì„ ì¤„ì€ ëª°ëë‹¤â€¦!
      - ë‚˜ëŠ” ë³´í†µ console.errorë¥¼ ì¼ë˜ê±° ê°™ì•„ì„œ ê¼­ warnì„ ì¨ì•¼í•˜ëŠ” ì´ìœ ê°€ ë­˜ê¹Œ ê¶ê¸ˆí–ˆë‹¤.
      - ì°¾ì•„ë´¤ì„ ë•Œ í‘œì‹œë˜ëŠ” ìƒ‰ê¹”ì´ ë‹¤ë¥¸ê±° ë§ê³ ëŠ” í¬ê²Œ â€˜ì´ëŸ° ìƒí™©ì—ì„œ ì´ê±¸ ì¨ì•¼í•œë‹¤â€™ ì´ëŸ° ê±´ ì—†ëŠ” ê²ƒ ê°™ë‹¤.
      - í˜¹ì‹œ ëª¨ë¥´ë‹ˆ ì´ê²ƒë„ ì±…ì„ í•œë²ˆ ì°¾ì•„ë³´ì!
    - ì¼ë‹¨ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤. ì´ì œ ì´ê±¸ í™œìš©í•  ì˜ˆì •ì´ë‹¤.
      ```jsx
      const request = async (url) => {
        try {
          const result = await fetch(url);
          if (!result.ok) throw new Error('API Error');
          return result.json();
        } catch (e) {
          console.warn(e);
        }
      };
      ```
      1. **`if`ë¬¸ìœ¼ë¡œ ì²˜ë¦¬í•œ ì—ëŸ¬:**
         - **`if (!result.ok)`** ë¶€ë¶„ì€ HTTP ì‘ë‹µ ìƒíƒœ ì½”ë“œê°€ 200-299 ì‚¬ì´ê°€ ì•„ë‹Œ ê²½ìš°ë¥¼ ì²´í¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
         - ì´ëŠ” ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ì„±ê³µí•˜ì§€ ì•Šì•˜ì„ ë•Œ í•´ë‹¹ ì¡°ê±´ì´ ì°¸ì´ ë˜ë©°, **`Error`** ê°ì²´ê°€ throwë©ë‹ˆë‹¤.
         - ì´ ì—ëŸ¬ëŠ” ì£¼ë¡œ ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ë¬¸ì œ, ì„œë²„ ì˜¤ë¥˜ ë“±ê³¼ ê°™ì´ HTTP ì‘ë‹µ ìƒíƒœ ì½”ë“œì— ê¸°ë°˜í•œ ì˜¤ë¥˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
      2. **`catch`ë¡œ ì²˜ë¦¬í•œ ì—ëŸ¬:**
         - **`try-catch`** ë¸”ë¡ ë‚´ì—ì„œ **`fetch(url)`** ë˜ëŠ” **`result.json()`** ì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  ì˜ˆì™¸ê°€ **`catch`** ë¸”ë¡ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
         - ì´ ì—ëŸ¬ëŠ” ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ìì²´ê°€ ì‹¤íŒ¨í•˜ê±°ë‚˜, JSON íŒŒì‹± ì˜¤ë¥˜ ë“±ê³¼ ê°™ì´ ì¼ë°˜ì ì¸ ì˜ˆì™¸ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
  - [**API**](https://www.notion.so/API-923c9aa2fe1e4ddcb1d9e078a6073008?pvs=21) ì— ë”°ë¼ì„œ 3ê°€ì§€ api ìš”ì²­ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í–ˆë‹¤.

    ```jsx
    const api = {
      // Keywordë¡œ ê²€ìƒ‰ëœ ê³ ì–‘ì´ ì‚¬ì§„ ëª©ë¡ì…ë‹ˆë‹¤.
      fetchCats: (keyword) => {
        return request(`${API_ENDPOINT}/api/cats/search?q=${keyword}`);
      },

      // Idë¡œ ê²€ìƒ‰ëœ ê³ ì–‘ì´ ì‚¬ì§„ ì…ë‹ˆë‹¤.
      fetchCatInfo: (id) => {
        return request(`${API_ENDPOINT}/api/cats/${id}`);
      },

      // ëœë¤í•œ 50ê°œì˜ ê³ ì–‘ì´ ì‚¬ì§„ ëª©ë¡ì…ë‹ˆë‹¤.
      randomFetchCats: () => {
        return request(`${API_ENDPOINT}/cats/random50`);
      },
    };
    ```

    - ì´ëŸ° ì½”ë“œë„ ìˆëŠ”ë° ë­ê°€ ë” ì¢‹ì€ ì½”ë“œì¸ì§€ ëª¨ë¥´ê² ë‹¤. ì—ëŸ¬ ì²˜ë¦¬ë¥¼ êµ‰ì¥íˆ ë””í…Œì¼í•˜ê²Œ í•œë‹¤ëŠ” ì ì€ ë§ˆìŒì— ë“œëŠ”ë°, api ìš”ì²­ ì‹œì—ë„ ì €ë ‡ê²Œ switchë¬¸ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ë‚´ê°€ ëŠê¼ˆì„ ë•ŒëŠ” ì¡°ê¸ˆ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ëŠ” ê²ƒ ê°™ì€ë° ë­ê°€ ì¢‹ì€ ì½”ë“œì¼ê¹Œâ€¦

      ```jsx
      const API_END_POINT =
        'https://oivhcpn8r9.execute-api.ap-northeast-2.amazonaws.com/dev';

      export const request = async (type, payload) => {
        var API_SUB_POINT = '';
        //ìš”ì²­ì— ë”°ë¼ url ìˆ˜ì •
        switch (type) {
          case 'search':
            API_SUB_POINT = `/search?q=${payload}`;
            break;
          case 'random':
            API_SUB_POINT = `/random50`;
            break;
          default:
            API_SUB_POINT = `/${payload}`;
        }

        //status ì½”ë“œì— ë”°ë¥¸ ì—ëŸ¬ë©”ì„¸ì§€ ë¶„ë¦¬ ì‘ì„±
        const res = await fetch(`${API_END_POINT}${API_SUB_POINT}`);
        switch (res.status / 100) {
          case 3:
            return `Redirects Error with status code ${res.status}`;
          case 4:
            return `Client Error with status code ${res.status}`;
          case 5:
            return `Server Error with status code ${res.status}`;
          default:
            return res.json();
        }
      };
      ```

- ë‹¤ìŒì€ ì½”ë“œ êµ¬ì¡° ê°œì„ ì´ë‹¤

  - ìš”êµ¬ì‚¬í•­
    - SearchResultÂ ì—Â ê°Â ì•„ì´í…œì„Â í´ë¦­í•˜ëŠ”Â ì´ë²¤íŠ¸ë¥¼Â EventÂ DelegationÂ ê¸°ë²•ì„Â ì´ìš©í•´Â ìˆ˜ì •í•´ì£¼ì„¸ìš”.
    - ì»´í¬ë„ŒíŠ¸Â ë‚´ë¶€ì˜Â í•¨ìˆ˜ë“¤ì´ë‚˜Â UtilÂ í•¨ìˆ˜ë“¤ì„Â ì‘ê²ŒÂ ì˜Â ë‚˜ëˆ„ì–´ì£¼ì„¸ìš”.
  - ì›ë˜ classë¡œ êµ¬ì„±ë˜ì–´ ìˆì—ˆëŠ”ë°, ì´ê±¸ functionìœ¼ë¡œ ë°”ê¾¸ëŠ” ì‹ìœ¼ë¡œ í–ˆë‹¤.
  - App.jsë¥¼ ë‹¤ì‹œ ì‘ì„±í•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

    ```jsx
    import { SearchInput } from './SearchInput.js';
    import { SearchResult } from './SearchResult.js';
    import { ImageInfo } from './ImageInfo.js';
    import { api } from './api/api.js';

    export default function App($app) {
      this.state = {
        visible: false,
        image: null,
        data: [],
      };

      const searchInput = new SearchInput({
        $app,
        onSearch: async (keyword) => {
          const searchData = await api.fetchCats(keyword);
          this.setState({
            ...this.state,
            data: searchData.data,
          });
        },
      });

      const searchResult = new SearchResult({
        $app,
        initialData: [],
        onClick: (image) => {
          this.setState({
            visible: true,
            image,
          });
        },
      });

      const imageInfo = new ImageInfo({
        $app,
        initialState: {
          visible: false,
          image: null,
        },
      });

      this.setState = (nextState) => {
        this.state = nextState;
        searchResult.setState(this.state.data);
        imageInfo.setState({
          image: this.state.image,
          visible: this.state.visible,
        });
      };
    }
    ```

  - chatGPTê°€ íŒë‹¨í•œ ê¸°ì¡´ ì½”ë“œì™€ì˜ ì°¨ì´ì 
    1. **í´ë˜ìŠ¤ì˜ ì†ì„±ê³¼ ë©”ì†Œë“œ**: ìœ„ì˜ ì½”ë“œëŠ” í´ë˜ìŠ¤ í˜•íƒœë¡œ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìˆ˜ì •ëœ ì½”ë“œì—ì„œëŠ” í´ë˜ìŠ¤ì˜ ì†ì„±ê³¼ ë©”ì†Œë“œê°€ í•¨ìˆ˜ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. í´ë˜ìŠ¤ë¥¼ í•¨ìˆ˜ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì€ JavaScript ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì ‘ê·¼ ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ thisì˜ ì‚¬ìš©ì´ ì¤„ì–´ë“¤ê³  ìƒíƒœ ê´€ë¦¬ê°€ ì¢€ ë” ëª…í™•í•´ì§‘ë‹ˆë‹¤.
    2. **ìƒíƒœ ê´€ë¦¬**: ìœ„ì˜ ì½”ë“œì—ì„œëŠ” í´ë˜ìŠ¤ ë‚´ì—ì„œ this.dataë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³ , setState ë©”ì†Œë“œë¥¼ í†µí•´ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ìˆ˜ì •ëœ ì½”ë“œì—ì„œëŠ” í•¨ìˆ˜ì˜ í´ë¡œì €ë¥¼ í™œìš©í•˜ì—¬ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ìƒíƒœ ê°ì²´ëŠ” this.stateë¡œ ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°ì—ëŠ” this.setState í•¨ìˆ˜ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
    3. **ì»´í¬ë„ŒíŠ¸ ìƒì„±**: ìœ„ì˜ ì½”ë“œì—ì„œëŠ” ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ê°€ í´ë˜ìŠ¤ í˜•íƒœë¡œ ìƒì„±ë˜ê³ , ìƒì„±ìì—ì„œ ì´ˆê¸° ì„¤ì •ì´ ì´ë£¨ì–´ì¡ŒìŠµë‹ˆë‹¤. ìˆ˜ì •ëœ ì½”ë“œì—ì„œëŠ” ê° ì»´í¬ë„ŒíŠ¸ê°€ í•¨ìˆ˜ë¡œ ìƒì„±ë˜ê³ , í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ì´ˆê¸° ì„¤ì •ì´ ì´ë£¨ì–´ì§€ë„ë¡ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
  - ì´ì œ searchInput.js

    ```jsx
    export default function SearchInput({ $app, onSearch }) {
      this.$target = document.createElement('input');
      this.$target.className = 'SearchInput';
      this.$target.placeholder = 'ê³ ì–‘ì´ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš”.|';
      $app.appendChild(this.$target);

      this.onSearch = onSearch;

      this.$target.addEventListener('keyup', (e) => {
        //    if (e.keyCode === 13) {
        //      this.onSearch(e.target.value);
        //    }
        if (e.key === 'Enter') {
          this.onSearch(e.target.value);
        }
      });
    }
    ```

    - ë¹„ìŠ·í•œ í˜•ì‹ìœ¼ë¡œ ë°”ê¿¨ë‹¤.
    - ê·¼ë° e.keyCodeì— ê²½ê³  ë¬¸êµ¬ê°€ ë–´ë‹¤. ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì½”ë“œë¼ê³ 
      - ê²€ìƒ‰í•´ë³´ë‹ˆ ì˜ˆì „ ë¸Œë¼ìš°ì €ì—ì„œ ì €ëŸ° í˜•ì‹ì„ ì¼ë˜ ê²ƒ ê°™ë‹¤.
        - https://way-be-developer.tistory.com/244
        - ì´ ë¸”ë¡œê·¸ ê¸€ì—ì„œëŠ” ë‘ ê°€ì§€ ëª¨ë‘ ì˜µì…˜ì— ë„£ì–´ë†¨ëŠ”ë°, ë¬¼ë¡  ëª¨ë“  ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹ˆ ë¶„ëª… ì¢‹ì€ ì½”ë“œì´ì§€ë§Œ, ë¬¸ë“ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì— ì–´ë–¤ ê²ƒì´ ìˆëŠ”ê°€ ê¶ê¸ˆí•´ì¡Œë‹¤.
        - ê·¼ë° ì°¾ì•„ë³´ë‹ˆê¹Œâ€¦
          - https://developer.mozilla.org/ko/docs/Web/API/KeyboardEvent/key
            ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/af084a5f-cb62-47e5-b4aa-d5635cff887b/8ae3ddc8-5b64-4aca-8a52-b2d8e7e9c5c8/Untitled.png)
          - ì•„ë‹ˆ ì´ ì •ë„ë©´ ë‹¤ ì‚¬ìš© ë˜ëŠ”ê±° ì•„ë‹Œê°€?
          - ê·¸ë˜ì„œ ê·¸ëƒ¥ key í˜•ì‹ë§Œ ì‚¬ìš©í•´ì„œ ì½”ë“œë¥¼ ì‘ì„±í•´ë„ ë˜ê² ë‹¤ê³  íŒë‹¨í–ˆë‹¤!

  - ë‹¤ìŒì€ searchResult.js

    ```jsx
    export default function SearchResult({ $app, initialState }) {
      this.state = initialState;
      this.$target = document.createElement('div');
      this.$target.className = 'SearchResult';
      $app.appendChild(this.$target);

      this.setState = (nextState) => {
        this.state = nextState;
        this.render();
      };

      this.render = () => {
        if (this.state.data) {
          this.$target.innerHTML = this.state.data
            .map(
              (cat, index) => `
    	        <div class="item" data-index="${index}">
    	          <img src=${cat.url} alt=${cat.name} />
    	        </div>
    	        `
            )
            .join('');
        }
      };

      this.onClick = onClick;

      this.$target.addEventListener('click', (e) => {
        const $searchItem = e.target.closest('.item');
        const { index } = $searchItem.dataset;
        this.onClick(this.state[index]);
      });

      this.render();
    }
    ```

    - [SearchResultÂ ì—Â ê°Â ì•„ì´í…œì„Â í´ë¦­í•˜ëŠ”Â ì´ë²¤íŠ¸ë¥¼Â EventÂ DelegationÂ ê¸°ë²•ì„Â ì´ìš©í•´Â ìˆ˜ì •í•´ì£¼ì„¸ìš”.](https://www.notion.so/SearchResult-Event-Delegation-a3eac4e63d9f4602a4677705bb2f47de?pvs=21) ì¡°ê±´ì— ë§ì¶°ì„œ ìœ„ì˜ ì½”ë“œê°€ ì•„ë˜ ì½”ë“œë¡œ ë³€í–ˆë‹¤.

      - event Delegation ê´€ë ¨ ë§í¬
        - https://developer-talk.tistory.com/886
        - ì•„ë˜ ì½”ë“œì—ì„œëŠ” closestë¥¼ í™œìš©í•´ì„œ ê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ ìš”ì†Œì¸ â€œ.itemâ€ì„ ì°¾ëŠ” í˜•ì‹ìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìˆë‹¤.
        - íœ´â€¦ì–´ë µë‹¤

      ```jsx
      /* 
      this.$searchResult.querySelectorAll(".item").forEach(($item, index) => {
        $item.addEventListener("click", () => {
          this.onClick(this.data[index]);
        });
      });
      */

      // ì•„ë˜ ì½”ë“œì—ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ê°œë³„ì ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ëŒ€ì‹ , ìƒìœ„ ìš”ì†Œì¸ this.$targetì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
      this.$target.addEventListener('click', (e) => {
        // closest ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¦­ëœ ìš”ì†Œì˜ ê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ ìš”ì†Œì¸ '.item'ì„ ì°¾ìŠµë‹ˆë‹¤.
        const $searchItem = e.target.closest('.item');

        // $searchItemì´ ì¡´ì¬í•˜ë©´, ì¦‰ '.item' ìš”ì†Œê°€ í´ë¦­ë˜ì—ˆì„ ë•Œë§Œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
        if ($searchItem) {
          // í´ë¦­ëœ '.item' ìš”ì†Œì˜ datasetì—ì„œ indexë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
          const { index } = $searchItem.dataset;

          // this.onClick í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í´ë¦­ëœ ì•„ì´í…œì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
          this.onClick(this.state[index]);
        }
      });
      ```

  - ë§ˆì§€ë§‰ imageInfo.js

    ```jsx
    export default function ImageInfo({ $app, initialState }) {
      this.state = initialState;
      this.$target = document.createElement('div');
      this.$target.className = 'ImageInfo';
      $app.appendChild(this.$target);

      this.setState = (nextState) => {
        this.state = nextState;
        this.render();
      };

      this.render = () => {
        if (this.state.image) {
          const { name, url, temperament, origin } = this.state.image;

          this.$target.innerHTML = `
            <div class="content-wrapper">
              <div class="title">
                <span>${name}</span>
                <div class="close">x</div>
              </div>
              <img src="${url}" alt="${name}"/>        
              <div class="description">
                <div>ì„±ê²©: ${temperament}</div>
                <div>íƒœìƒ: ${origin}</div>
              </div>
            </div>`;
        }
        this.$target.style.display = this.state.visible ? 'block' : 'none';
      };

      this.render();
    }
    ```

  - [https://velog.io/@z6su3/í”„ë¡œê·¸ë˜ë¨¸ìŠ¤-ê³ ì–‘ì´-ì‚¬ì§„-ê²€ìƒ‰-ì‚¬ì´íŠ¸-ê°œë°œ-ì»´í¬ë„ŒíŠ¸-ì¬êµ¬ì„±-kfqca8a7](https://velog.io/@z6su3/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EC%96%91%EC%9D%B4-%EC%82%AC%EC%A7%84-%EA%B2%80%EC%83%89-%EC%82%AC%EC%9D%B4%ED%8A%B8-%EA%B0%9C%EB%B0%9C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%9E%AC%EA%B5%AC%EC%84%B1-kfqca8a7)
    - ì´ ë§í¬ì˜ ë„ì›€ì„ ë§ì´ ë°›ì•˜ë‹¤.
    - ì½”ë“œ êµ¬ì¡° ê°œì„ ì€ ì´ë ‡ê²Œ í•˜ëŠ”ê±°êµ¬ë‚˜â€¦ ë°°ì› ë‹¤.
